<div class="dashboard-home">
  <div class="page-header">
    <h1>Dashboard</h1>
    <p>Bienvenido al panel administrativo</p>
  </div>

  @if (isLoading) {
  <div class="loading">
    <div class="spinner"></div>
    <p>Cargando datos...</p>
  </div>
  } @else {
  <!-- Stats Cards -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon" style="background: #dbeafe">
        <span class="material-symbols-outlined" style="color: #2563eb">calendar_month</span>
      </div>
      <div class="stat-content">
        <h3>{{ stats.total }}</h3>
        <p>Total de Citas</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon" style="background: #fef3c7">
        <span class="material-symbols-outlined" style="color: #f59e0b">schedule</span>
      </div>
      <div class="stat-content">
        <h3>{{ stats.pending }}</h3>
        <p>Pendientes</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon" style="background: #d1fae5">
        <span class="material-symbols-outlined" style="color: #10b981">check_circle</span>
      </div>
      <div class="stat-content">
        <h3>{{ stats.confirmed }}</h3>
        <p>Confirmadas</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon" style="background: #e0e7ff">
        <span class="material-symbols-outlined" style="color: #6366f1">today</span>
      </div>
      <div class="stat-content">
        <h3>{{ stats.today }}</h3>
        <p>Citas Hoy</p>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="section">
    <h2>Acciones Rápidas</h2>
    <div class="actions-grid">
      <a routerLink="/dashboard/citas/nueva" class="action-card">
        <span class="material-symbols-outlined">add_circle</span>
        <h3>Nueva Cita</h3>
        <p>Registrar una nueva cita</p>
      </a>

      <a routerLink="/dashboard/citas" class="action-card">
        <span class="material-symbols-outlined">list</span>
        <h3>Ver Todas</h3>
        <p>Lista completa de citas</p>
      </a>
    </div>
  </div>

  <!-- Recent Appointments -->
  <div class="section">
    <div class="section-header">
      <h2>Citas Recientes</h2>
      <a routerLink="/dashboard/citas" class="link-button">Ver todas →</a>
    </div>

    @if (recentAppointments.length === 0) {
    <div class="empty-state">
      <span class="material-symbols-outlined">event_busy</span>
      <p>No hay citas registradas</p>
      <a routerLink="/dashboard/citas/nueva" class="btn-primary">Crear primera cita</a>
    </div>
    } @else {
    <div class="appointments-list">
      @for (appointment of recentAppointments; track appointment.id) {
      <div class="appointment-item">
        <div class="appointment-info">
          <h4>{{ appointment.patient_name }}</h4>
          <p>
            <span class="material-symbols-outlined">calendar_today</span>
            {{ appointment.appointment_date | date : 'dd/MM/yyyy HH:mm' }}
          </p>
          <p>
            <span class="material-symbols-outlined">medical_services</span>
            {{ getTreatmentText(appointment.treatment_type) }}
          </p>
        </div>
        <div class="appointment-status">
          <span class="status-badge" [ngClass]="getStatusClass(appointment.status)">
            {{ getStatusText(appointment.status) }}
          </span>
        </div>
      </div>
      }
    </div>
    }
  </div>
  }
</div>
